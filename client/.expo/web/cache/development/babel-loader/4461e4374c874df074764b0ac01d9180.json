{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { useMemo, useRef } from 'react';\nimport Platform from \"react-native-web/dist/exports/Platform\";\n\nvar findIndex = function findIndex(_ref, map) {\n  var locationX = _ref.locationX,\n      locationY = _ref.locationY;\n\n  for (var _i = 0, _Object$entries = Object.entries(map); _i < _Object$entries.length; _i++) {\n    var _ref2 = _Object$entries[_i];\n\n    var _ref3 = _slicedToArray(_ref2, 2);\n\n    var index = _ref3[0];\n    var _ref3$ = _ref3[1];\n    var x = _ref3$.x;\n    var y = _ref3$.y;\n    var xEnd = _ref3$.xEnd;\n    var yEnd = _ref3$.yEnd;\n\n    if (x < locationX && locationX < xEnd && y < locationY && locationY < yEnd) {\n      return parseInt(index, 10);\n    }\n  }\n\n  return -1;\n};\n\nexport var useClearByFocusCell = function useClearByFocusCell(options) {\n  var valueRef = useRef(options);\n  var cellsLayouts = useRef({});\n  valueRef.current = options;\n\n  var clearCodeByCoords = function clearCodeByCoords(coords) {\n    var index = findIndex(coords, cellsLayouts.current);\n\n    if (index !== -1) {\n      var _valueRef$current = valueRef.current,\n          value = _valueRef$current.value,\n          setValue = _valueRef$current.setValue;\n      var text = (value || '').slice(0, index);\n      setValue(text);\n    }\n  };\n\n  var getCellOnLayoutHandler = function getCellOnLayoutHandler(index) {\n    return function (event) {\n      var _event$nativeEvent$la = event.nativeEvent.layout,\n          width = _event$nativeEvent$la.width,\n          height = _event$nativeEvent$la.height,\n          x = _event$nativeEvent$la.x,\n          y = _event$nativeEvent$la.y;\n      cellsLayouts.current[\"\" + index] = {\n        x: x,\n        xEnd: x + width,\n        y: y,\n        yEnd: y + height\n      };\n    };\n  };\n\n  var onPressOut = function onPressOut(event) {\n    return clearCodeByCoords(event.nativeEvent);\n  };\n\n  var onClick = function onClick(event) {\n    var _event$target$getClie = event.target.getClientRects(),\n        _event$target$getClie2 = _slicedToArray(_event$target$getClie, 1),\n        offset = _event$target$getClie2[0];\n\n    var locationX = event.clientX - offset.left;\n    var locationY = event.clientY - offset.top;\n    clearCodeByCoords({\n      locationX: locationX,\n      locationY: locationY\n    });\n  };\n\n  return [useMemo(function () {\n    return Platform.select({\n      web: {\n        onClick: onClick\n      },\n      default: {\n        onPressOut: onPressOut\n      }\n    });\n  }, []), getCellOnLayoutHandler];\n};","map":{"version":3,"sources":["/Users/muhammetarslantas/Desktop/Muhammet/Projects/ParkingApp/client/node_modules/react-native-confirmation-code-field/esm/useClearByFocusCell.js"],"names":["useMemo","useRef","findIndex","map","locationX","locationY","Object","entries","index","x","y","xEnd","yEnd","parseInt","useClearByFocusCell","options","valueRef","cellsLayouts","current","clearCodeByCoords","coords","value","setValue","text","slice","getCellOnLayoutHandler","event","nativeEvent","layout","width","height","onPressOut","onClick","target","getClientRects","offset","clientX","left","clientY","top","Platform","select","web","default"],"mappings":"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","sourcesContent":["import {useMemo, useRef} from 'react';\nimport {Platform} from 'react-native';\nconst findIndex = ({locationX, locationY}, map) => {\n  for (const [index, {x, y, xEnd, yEnd}] of Object.entries(map)) {\n    if (\n      x < locationX &&\n      locationX < xEnd &&\n      y < locationY &&\n      locationY < yEnd\n    ) {\n      return parseInt(index, 10);\n    }\n  }\n  return -1;\n};\nexport const useClearByFocusCell = (options) => {\n  const valueRef = useRef(options);\n  const cellsLayouts = useRef({});\n  valueRef.current = options;\n  const clearCodeByCoords = (coords) => {\n    const index = findIndex(coords, cellsLayouts.current);\n    if (index !== -1) {\n      const {value, setValue} = valueRef.current;\n      const text = (value || '').slice(0, index);\n      setValue(text);\n    }\n  };\n  const getCellOnLayoutHandler = (index) => (event) => {\n    const {width, height, x, y} = event.nativeEvent.layout;\n    cellsLayouts.current[`${index}`] = {\n      x,\n      xEnd: x + width,\n      y,\n      yEnd: y + height,\n    };\n  };\n  const onPressOut = (event) => clearCodeByCoords(event.nativeEvent);\n  // For support react-native-web\n  const onClick = (event) => {\n    // @ts-expect-error: not types for getClientRects\n    const [offset] = event.target.getClientRects();\n    const locationX = event.clientX - offset.left;\n    const locationY = event.clientY - offset.top;\n    clearCodeByCoords({locationX, locationY});\n  };\n  return [\n    // @ts-expect-error: for web support\n    useMemo(() => Platform.select({web: {onClick}, default: {onPressOut}}), []),\n    getCellOnLayoutHandler,\n  ];\n};\n"]},"metadata":{},"sourceType":"module"}