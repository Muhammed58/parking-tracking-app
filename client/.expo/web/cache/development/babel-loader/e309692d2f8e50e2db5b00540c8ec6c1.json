{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from 'react';\nimport 'react-native-gesture-handler';\nimport { useFonts } from 'expo-font';\nimport Settings from \"./subScreens/Settings.js\";\nimport MainPageBackImage from \"./subScreens/MainPageBackImage.js\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Pressable from \"react-native-web/dist/exports/Pressable\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { getLastLocation, getLocationList, getProfile } from \"../api.js\";\n\nvar parkingHistory = require(\"../assets/images/parkingHistory.png\");\n\nvar currentParking = require(\"../assets/images/currentParking.png\");\n\nvar parkHere = require(\"../assets/images/parkHereIcon.png\");\n\nexport default function MainPage(_ref) {\n  var route = _ref.route,\n      navigation = _ref.navigation;\n\n  var _useFonts = useFonts({\n    Rakkas: require(\"../assets/fonts/Rakkas-Regular.ttf\")\n  }),\n      _useFonts2 = _slicedToArray(_useFonts, 1),\n      loaded = _useFonts2[0];\n\n  var _useState = useState([40.6017004, -73.947738]),\n      _useState2 = _slicedToArray(_useState, 2),\n      lastLocation = _useState2[0],\n      setLastLocation = _useState2[1];\n\n  useEffect(function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(getLastLocation().then(function (res) {\n              return setLastLocation(res.data.location);\n            }).catch(function (err) {\n              return console.log(err);\n            }));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }, [route]);\n\n  var _useState3 = useState({}),\n      _useState4 = _slicedToArray(_useState3, 2),\n      locationList = _useState4[0],\n      setLocationList = _useState4[1];\n\n  useEffect(function _callee2() {\n    return _regeneratorRuntime.async(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return _regeneratorRuntime.awrap(getLocationList().then(function (res) {\n              setLocationList(res.data);\n            }).catch(function (err) {\n              return console.log(err);\n            }));\n\n          case 2:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }, [route]);\n\n  var _useState5 = useState({}),\n      _useState6 = _slicedToArray(_useState5, 2),\n      profile = _useState6[0],\n      setProfile = _useState6[1];\n\n  useEffect(function () {\n    getProfileInfo = function getProfileInfo() {\n      return _regeneratorRuntime.async(function getProfileInfo$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(getProfile().then(function (res) {\n                console.log(res);\n              }).catch(function (err) {\n                return console.log(err);\n              }));\n\n            case 2:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    getProfileInfo();\n  }, []);\n\n  var _useState7 = useState(false),\n      _useState8 = _slicedToArray(_useState7, 2),\n      isLoaded = _useState8[0],\n      setIsLoaded = _useState8[1];\n\n  useEffect(function () {\n    setTimeout(function () {\n      setIsLoaded(true);\n    }, 500);\n  }, []);\n\n  var handleCurrentParking = function handleCurrentParking() {\n    navigation.navigate('CurrentParking', {\n      latitude: lastLocation[0],\n      longitude: lastLocation[1]\n    });\n  };\n\n  var handleParkingHistory = function handleParkingHistory() {\n    navigation.navigate('ParkingHistory', {\n      latitude: lastLocation[0],\n      longitude: lastLocation[1],\n      locationList: locationList\n    });\n  };\n\n  if (!loaded) {\n    return null;\n  }\n\n  return React.createElement(React.Fragment, null, !isLoaded ? React.createElement(View, {\n    style: {\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      width: \"100%\",\n      height: \"100%\",\n      backgroundColor: \"#FFCC56\"\n    }\n  }, React.createElement(Text, {\n    style: {\n      fontSize: 25,\n      fontFamily: \"Rakkas\",\n      bottom: 20\n    }\n  }, \"Loading...\"), React.createElement(ActivityIndicator, {\n    size: \"large\",\n    color: \"#064635\"\n  })) : React.createElement(View, {\n    style: styles.mainContainer\n  }, React.createElement(MainPageBackImage, null), React.createElement(Pressable, {\n    activeOpacity: 0.6,\n    style: function style(_ref2) {\n      var pressed = _ref2.pressed;\n      return [{\n        shadowColor: \"black\",\n        shadowRadius: 2,\n        shadowOpacity: pressed ? 0.1 : 0.9,\n        shadowOffset: pressed ? {\n          width: 0,\n          height: 1\n        } : {\n          width: 0,\n          height: 3\n        },\n        transform: [pressed ? {\n          translateY: 10\n        } : {\n          translateY: 0\n        }]\n      }, styles.parkingHistoryContainer];\n    },\n    onPress: handleParkingHistory\n  }, React.createElement(Image, {\n    source: parkingHistory,\n    style: styles.parkingHistoryImage\n  }), React.createElement(View, {\n    style: styles.historyTextContainer\n  }, React.createElement(Text, {\n    style: styles.parkingHistoryText\n  }, \"Parking History\"))), React.createElement(Pressable, {\n    activeOpacity: 0.6,\n    style: function style(_ref3) {\n      var pressed = _ref3.pressed;\n      return [{\n        shadowColor: \"black\",\n        shadowRadius: 2,\n        shadowOpacity: pressed ? 0.1 : 0.9,\n        shadowOffset: pressed ? {\n          width: 0,\n          height: 1\n        } : {\n          width: 0,\n          height: 3\n        },\n        transform: [pressed ? {\n          translateY: 10\n        } : {\n          translateY: 0\n        }]\n      }, styles.currentParkingContainer];\n    },\n    onPress: handleCurrentParking\n  }, React.createElement(Image, {\n    source: currentParking,\n    style: styles.currentParkingImage\n  }), React.createElement(View, {\n    style: styles.currentTextContainer\n  }, React.createElement(Text, {\n    style: styles.currentParkingText\n  }, \"Current Parking\"))), React.createElement(Pressable, {\n    activeOpacity: 0.6,\n    onPress: function onPress() {\n      navigation.navigate('ParkHere');\n    },\n    style: function style(_ref4) {\n      var pressed = _ref4.pressed;\n      return [{\n        shadowColor: \"black\",\n        shadowRadius: 2,\n        shadowOpacity: pressed ? 0.1 : 0.9,\n        shadowOffset: pressed ? {\n          width: 0,\n          height: 1\n        } : {\n          width: 0,\n          height: 3\n        },\n        transform: [pressed ? {\n          translateY: 10\n        } : {\n          translateY: 0\n        }]\n      }, styles.parkHereContainer];\n    }\n  }, React.createElement(Image, {\n    source: parkHere,\n    style: styles.parkHereImage\n  }), React.createElement(View, {\n    style: styles.parkHereTextContainer\n  }, React.createElement(Text, {\n    style: styles.parkHereText\n  }, \"Park Here!\"))), React.createElement(Settings, {\n    profile: profile\n  })));\n}\nvar width = Dimensions.get('window').width;\nvar height = Dimensions.get('window').height;\nvar styles = StyleSheet.create({\n  mainContainer: {\n    position: \"relative\",\n    width: \"100%\",\n    height: \"100%\",\n    paddingTop: height * 0.23,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"#FFCC56\"\n  },\n  parkingHistoryContainer: {\n    position: \"relative\",\n    width: width * 0.5,\n    height: height * 0.15,\n    borderTopEndRadius: 500,\n    alignItems: \"center\",\n    borderWidth: 0,\n    justifyContent: \"center\",\n    top: height * -0.66,\n    left: width * 0.17\n  },\n  parkingHistoryImage: {\n    position: \"absolute\",\n    width: width * 0.32,\n    height: height * 0.10,\n    top: height * 0.01\n  },\n  historyTextContainer: {\n    position: \"absolute\",\n    top: height * 0.12,\n    borderWidth: 3,\n    borderRadius: 10,\n    backgroundColor: \"#FFCC56\",\n    padding: 3\n  },\n  parkingHistoryText: {\n    fontFamily: \"Rakkas\",\n    fontSize: width * 0.06\n  },\n  currentParkingContainer: {\n    position: \"relative\",\n    width: width * 0.6,\n    height: height * 0.2,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    elevation: 1,\n    top: height * -0.58,\n    left: width * -0.22\n  },\n  currentParkingImage: {\n    position: \"absolute\",\n    width: width * 0.55,\n    height: height * 0.20,\n    top: height * -0.03\n  },\n  currentTextContainer: {\n    position: \"absolute\",\n    top: height * 0.18,\n    borderWidth: 3,\n    borderRadius: 10,\n    backgroundColor: \"#FFCC56\",\n    padding: 3\n  },\n  currentParkingText: {\n    fontSize: width * 0.06,\n    fontFamily: \"Rakkas\"\n  },\n  parkHereContainer: {\n    position: \"relative\",\n    width: width * 0.6,\n    elevation: 1,\n    height: height * 0.2,\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    top: height * -0.47,\n    left: width * 0.05\n  },\n  parkHereImage: {\n    position: \"absolute\",\n    width: width * 0.7,\n    height: height * 0.23,\n    top: height * -0.06\n  },\n  parkHereTextContainer: {\n    position: \"absolute\",\n    top: height * 0.16,\n    borderWidth: 3,\n    borderRadius: 10,\n    backgroundColor: \"#FFCC56\",\n    padding: 3\n  },\n  parkHereText: {\n    fontFamily: \"Rakkas\",\n    fontSize: width * 0.06\n  }\n});","map":{"version":3,"sources":["/Users/muhammetarslantas/Desktop/Muhammet/Projects/ParkingApp/client/screens/MainPage.js"],"names":["React","useState","useEffect","useFonts","Settings","MainPageBackImage","getLastLocation","getLocationList","getProfile","parkingHistory","require","currentParking","parkHere","MainPage","route","navigation","Rakkas","loaded","lastLocation","setLastLocation","then","res","data","location","catch","err","console","log","locationList","setLocationList","profile","setProfile","getProfileInfo","isLoaded","setIsLoaded","setTimeout","handleCurrentParking","navigate","latitude","longitude","handleParkingHistory","alignItems","justifyContent","width","height","backgroundColor","fontSize","fontFamily","bottom","styles","mainContainer","pressed","shadowColor","shadowRadius","shadowOpacity","shadowOffset","transform","translateY","parkingHistoryContainer","parkingHistoryImage","historyTextContainer","parkingHistoryText","currentParkingContainer","currentParkingImage","currentTextContainer","currentParkingText","parkHereContainer","parkHereImage","parkHereTextContainer","parkHereText","Dimensions","get","StyleSheet","create","position","paddingTop","borderTopEndRadius","borderWidth","top","left","borderRadius","padding","elevation"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport 'react-native-gesture-handler';\nimport { useFonts } from 'expo-font'\nimport Settings from './subScreens/Settings.js'\nimport MainPageBackImage from './subScreens/MainPageBackImage.js';\nimport { View, Text, Image, StyleSheet, Dimensions,\n        Pressable, ActivityIndicator } from 'react-native';\nimport {getLastLocation, getLocationList, getProfile} from '../api.js'\n\n// define images\nconst parkingHistory = require('../assets/images/parkingHistory.png');\nconst currentParking = require('../assets/images/currentParking.png')\nconst parkHere = require('../assets/images/parkHereIcon.png')\n\n\nexport default function MainPage ({route, navigation}) {\n     //Fonts define\n    const[loaded] = useFonts({\n        Rakkas: require('../assets/fonts/Rakkas-Regular.ttf')\n    })\n\n    // SET LAST LOCATION DATA\n    const [lastLocation, setLastLocation] = useState( [40.6017004,-73.947738] )\n    useEffect(async() => {\n           await getLastLocation()            \n            .then((res) => setLastLocation(res.data.location))\n            .catch(err=> console.log(err))\n        }, [route])\n\n    // GET LIST OF LOCATIONS\n    const [locationList, setLocationList] = useState({})\n    useEffect(async() => {\n        await getLocationList()            \n        .then((res) => { setLocationList(res.data) })\n        .catch(err=> console.log(err))\n        }, [route])\n    \n       \n    //GET PROFILE INFORMATION\n    const [profile, setProfile] = useState({})\n    useEffect(() => {\n        getProfileInfo = async() =>{\n            await getProfile()        \n            .then((res)=>{console.log(res)})\n            .catch(err => console.log(err))\n            /* .then((res)=>{setProfile(res.data)}) */\n        }\n        getProfileInfo()\n    }, [])\n\n    //Loading page\n    const [isLoaded, setIsLoaded] = useState(false)\n\n    useEffect(() => {\n        setTimeout(() => {\n            setIsLoaded(true)\n        }, 500); \n    }, [])\n\n    const handleCurrentParking = () =>{\n        navigation.navigate('CurrentParking',{\n            latitude: lastLocation[0],\n            longitude: lastLocation[1]\n        })\n    }\n    const handleParkingHistory = () =>{\n        navigation.navigate('ParkingHistory',{\n            latitude: lastLocation[0],\n            longitude: lastLocation[1],\n            locationList: locationList\n        })\n    }\n    \n    if (!loaded) {\n        return null;\n    }\n    return(\n        <>\n        {!isLoaded ? ( <View style={{\n            alignItems:\"center\", \n            justifyContent:\"center\",\n            width:\"100%\",\n            height:\"100%\",\n            backgroundColor:\"#FFCC56\"\n            }}>\n        <Text style={{fontSize:25, fontFamily:\"Rakkas\", bottom:20}}>Loading...</Text>\n        <ActivityIndicator size=\"large\" color= \"#064635\"/>\n    </View>)\n\n    : (\n        <View style={styles.mainContainer}>\n            <MainPageBackImage/>\n          \n            <Pressable activeOpacity={0.6}   style={\n                ({pressed}) =>[\n                    { shadowColor:\"black\", \n                    shadowRadius:2,\n                    shadowOpacity: pressed ? 0.1 : 0.9,\n                    shadowOffset: pressed ? {width:0, height:1} : {width:0, height:3},\n                    transform:[pressed ? {translateY: 10}:{ translateY:0}],\n                    },\n                styles.parkingHistoryContainer]}\n                onPress={handleParkingHistory}>\n                <Image source={parkingHistory} style={styles.parkingHistoryImage}/>\n                <View style={styles.historyTextContainer}>\n                    <Text style={styles.parkingHistoryText}>Parking History</Text>\n                </View>\n            </Pressable>\n            <Pressable activeOpacity={0.6}  style={\n                ({pressed}) =>[\n                    { shadowColor:\"black\", \n                    shadowRadius:2,\n                    shadowOpacity: pressed? 0.1: 0.9,\n                    shadowOffset: pressed ? {width:0, height:1} : {width:0, height:3},\n                    transform:[pressed ? {translateY: 10}:{ translateY:0}]\n                    },styles.currentParkingContainer]}\n                    onPress={handleCurrentParking}>\n\n                <Image source={currentParking} style={styles.currentParkingImage}/>\n                <View style={styles.currentTextContainer}>\n                    <Text style={styles.currentParkingText}>Current Parking</Text>\n                </View>\n                \n            </Pressable>\n       \n            <Pressable activeOpacity={0.6} onPress={()=>{\n                navigation.navigate('ParkHere')\n            }} style={\n                 ({pressed}) =>[\n                    { shadowColor:\"black\", \n                    shadowRadius:2,\n                    shadowOpacity: pressed? 0.1: 0.9,\n                    shadowOffset: pressed ? {width:0, height:1} : {width:0, height:3},\n                    transform:[pressed ? {translateY: 10}:{ translateY:0}]\n                    },\n                    styles.parkHereContainer]}>\n                <Image source={parkHere} style={styles.parkHereImage}/>\n                <View style={styles.parkHereTextContainer}>\n                    <Text style={styles.parkHereText}>Park Here!</Text>\n                </View>\n            </Pressable>\n\n            <Settings profile={profile}/>\n        </View>\n     )}\n     </>\n    )\n\n}\n\n//Get screen height and width for responsive\nconst width = Dimensions.get('window').width;\nconst height = Dimensions.get('window').height;\n\nconst styles = StyleSheet.create({\n    mainContainer:{\n        position:\"relative\",\n        width:\"100%\",\n        height:\"100%\",\n        paddingTop: height * 0.23,\n        alignItems:\"center\",\n        justifyContent:\"center\",\n        backgroundColor:\"#FFCC56\",\n    },\n\n    parkingHistoryContainer:{\n        position:\"relative\",\n        width: width * 0.5,\n        height: height * 0.15,\n        borderTopEndRadius:500,\n        alignItems:\"center\",\n        borderWidth:0,\n        justifyContent:\"center\",\n        top: height * -0.66,\n        left: width * 0.17,\n    },\n\n    parkingHistoryImage:{\n        position:\"absolute\",\n        width: width * 0.32,\n        height: height * 0.10,\n        top: height * 0.01,\n    },\n\n    historyTextContainer:{\n        position:\"absolute\",\n        top: height * 0.12,\n        borderWidth:3,\n        borderRadius:10,\n        backgroundColor:\"#FFCC56\",\n        padding:3,\n    },\n\n    parkingHistoryText:{\n        fontFamily:\"Rakkas\",\n        fontSize: width * 0.06,\n    },\n\n    currentParkingContainer:{\n        position:\"relative\",\n        width: width * 0.6,\n        height: height * 0.2,\n        alignItems:\"center\",\n        justifyContent:\"center\",\n        elevation:1,\n        top: height * -0.58,\n        left: width * -0.22,\n    },\n\n    currentParkingImage:{\n        position:\"absolute\",\n        width: width * 0.55,\n        height: height * 0.20,\n        top: height * -0.03,\n    },\n\n    currentTextContainer:{\n        position:\"absolute\",\n        top: height * 0.18,\n        borderWidth:3,\n        borderRadius:10,\n        backgroundColor:\"#FFCC56\",\n        padding:3,    \n    },\n\n    currentParkingText:{\n        fontSize: width * 0.06,\n        fontFamily:\"Rakkas\",\n    },\n\n    parkHereContainer:{\n        position:\"relative\",\n        width: width * 0.6,\n        elevation:1,\n        height: height * 0.2,\n        alignItems:\"center\",\n        justifyContent:\"center\",\n        top: height * -0.47,\n        left: width * 0.05,\n    },\n\n    parkHereImage:{\n        position:\"absolute\",\n        width: width * 0.7,\n        height: height * 0.23,\n        top: height * -0.06,\n    },\n\n    parkHereTextContainer:{\n        position:\"absolute\",\n        top: height * 0.16,\n        borderWidth:3,\n        borderRadius:10,\n        backgroundColor:\"#FFCC56\",\n        padding:3,\n    },\n\n    parkHereText:{\n        fontFamily:\"Rakkas\",\n        fontSize: width * 0.06,\n        \n    },\n})"]},"metadata":{},"sourceType":"module"}